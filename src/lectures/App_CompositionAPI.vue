<template>
  <div>
    <h3>ë°˜ì‘í˜• ë©”ì‹œì§€</h3>
    <p>{{ reactiveMessgae }}</p>
    <button @click="addReactiveMessage">Add Message</button>
    <h3>ì¼ë°˜ ë©”ì‹œì§€</h3>
    <p>{{ normalMessage }}</p>
    <button @click="addNormalMessage">Add Message</button>
  </div>
</template>

<script>
import { ref, isRef, onMounted, onBeforeMount } from 'vue';

export default {
  setup() {
    console.log('setup()');

    /**
     * ğŸ” ë°˜ì‘í˜• API
     */
    const reactiveMessgae = ref('Hello Reactive Message!');
    const addReactiveMessage = () => {
      reactiveMessgae.value = reactiveMessgae.value + 'ğŸ˜';
    };
    /** isRef : ë°˜ì‘í˜• ë°ì´í„°ì¸ì§€ ê²€ì‚¬í•˜ëŠ” API */
    console.log(isRef(reactiveMessgae)); // true

    /** ë³€ê²½ ì•ˆ ë¨ */
    let normalMessage = 'Hello Normal Message!';
    const addNormalMessage = () => {
      normalMessage = normalMessage + 'ğŸ« ';
    };
    console.log(isRef(normalMessage)); // false

    /**
     * ğŸ” ë¼ì´í”„ ì‚¬ì´í´ í›…
     * 'ë¼ì´í”„ ì‚¬ì´í´'ì€ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë  ë•Œ ê±°ì¹˜ëŠ” ê³¼ì •ì´ë‹¤.
     * 'ë¼ì´í”„ ì‚¬ì´í´ í›…'ì€ ë¼ì´í”„ ì‚¬ì´í´ ë‹¨ê³„ì—ì„œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
     */

    /** ì»´í¬ë„ŒíŠ¸ê°€ DOMì— ë§ˆìš´íŠ¸ ëœ í›„ */
    onMounted(() => {
      console.log('onMounted');
    });

    /** ì»´í¬ë„ŒíŠ¸ê°€ DOMì— ë§ˆìš´íŠ¸ ë˜ê¸° ì „ */
    onBeforeMount(() => {
      console.log('onBeforeMount');
    });

    return {
      reactiveMessgae,
      addReactiveMessage,
      normalMessage,
      addNormalMessage,
    };
  },
};
</script>

<style lang="scss" scoped></style>
